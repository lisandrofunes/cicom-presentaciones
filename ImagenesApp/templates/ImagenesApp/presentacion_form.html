{% extends 'base.html' %}
{% block content %}

<div class="container mt-5" >
    <form method="post" id="form" style="display: flex; flex-direction: column; gap: 18px; max-width: 500px; margin-inline: auto; padding-bottom: 18px;">
        <h2>Crear Presentación</h2>
        {% csrf_token %}
        <div class="form-group">
            <label for="titulo">Título:</label>
            <input type="text" class="form-control" id="titulo" name="titulo" required>
        </div>
        <div class="form-group">
            <label for="tiempo">Tiempo:</label>
            <input type="number" class="form-control" id="tiempo" name="tiempo" required>
        </div>
        <div class="form-group">

            
            <label for="archivos">Archivos:</label>

            <div multiple class="form-control" id="archivos" name="archivos[]" required>
                <!-- {% for archivo in archivos %}
                <div class="form-check">
                    <input class="form-check-input" type="checkbox" name="archivos[]" value="{{ archivo.id }}">
                    <label class="form-check-label">{{ archivo.nombre }}</label>
                </div>
                {% endfor %} -->
                <table class="table table-hover">
                    <thead>
                      <tr>
                        <th class="col-1" scope="col"></th>
                        <th class="col-3" scope="col">Nombre</th>
                        <th class="col-2" scope="col">Imagen</th>
                      </tr>
                    </thead>
                    <tbody>
                      {% for archivo in archivos %}
                      <tr class="col-auto">
                        <td>
                          <div >
                            <input type="checkbox" class="form-check-input"  name="archivos[]" value="{{ archivo.id }}">
                          </div>
                        </td>
                        <td>{{ archivo.nombre }}</td>
                        <td><img src="{{ archivo.archivo.url }}" style="width: 60px; height: 60px;" style="object-fit: cover;"/> 
                          {% comment %} <a href="{{ archivo.archivo.url }}" target="_blank">
                              <button>Abrir Imagen</button>
                          </a> {% endcomment %}
                        </td>
                      </tr>
                      {% endfor %}
                    </tbody>
                  </table>
            </div>
        </div>
        <button type="submit" class="btn btn-primary">Crear Presentación</button>
    </form>

</div>
{% endblock %}